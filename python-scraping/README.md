# 개발 개요

<br>

- 기능
  - CPU, Mainboard 조합 및 그에 따른 최저가 분석 서비스
- 목적
  - 메인보드 및 CPU의 조합을 결정할 때 의사결정을 쉽게 하도록 도와주기 위한 서비스
- 방법
  - Selenium 사용
    1. 다나와 접속
    2. 컴퓨터 노트북 조립PC 항목 찾기
    3. 컴퓨터 항목 찾기
    4. PC 주요부품 찾기
    5. 'CPU' or '메인보드' 클릭
       - CPU
         - Intel, AMD 모두 우측 가쪽의 '+' 버튼(제품군 더보기 역할을 하는 버튼)을 누르기 전의 기본 체크리스트에 있는 것들만 조회함
           - 해당 체크리스트만을 최신 사양으로 취급하였음
       - 메인보드
         - 소켓 체크박스를 체크해가며 각각 소켓에 해당하는 메인보드 분류
    6. MySQL에 저장
       1. Master서버에 쓰기.
       2. Slave서버에서 데이터 변동사항을 읽어옴.
    7. Redis Cache Store에 변동을 반영
    8. 메인 페이지에 캐싱된 데이터를 개시
- 개발 환경 구성
  - 운영 체제: Windows 10, macOS 호환
  - 개발 언어: Python
  - 개발 도구: VSCode
  - Front: Javascript
  - WAS: Flask
  - WS: Nginx
  - DB: MySQL
  - 관리 및 배포: Github Actions, Azure
    - Docker 이미지화 하여 컨테이너 단위로 관리

<br>

# 기술 선정 이유

<br>

- 개발 언어
  - Python
    - 크롤링 관련 자료와 라이브러리가 매우 많았음.
    - 기존에 써오던 언어였기 때문에 학습에 대한 리소스가 제일 적었음.
  - VSCode
    - 무료로 사용가능.
    - macOS, Windows 모두 호환이 잘 됨.
  - 바닐라 JS
    - 페이지 구성은 단순하게 할 예정이었기 때문에 그것을 위해 프레임워크를 구성하는 것은 너무 과투자라고 생각하였음.
  - Flask
    - 백엔드 관련하여 회원 관리와 같이 보안에 철저하게 신경 쓸 기능이 없었기 때문에 가벼운 프레임워크 사용.
  - Nginx
    - 가볍고 익숙했음.
  - Github Actions
    - 무료 사용가능.
    - TravisCI와 별로 기능적인 차이도 없으면서 github에서 기본적으로 제공해주는 Github Actions을 선택함.
  - MySQL
    - 무료로 사용 가능 (Oracle에서는 현재까지 이와 관련하여 분쟁을 일으키지 않음.)
    - 특유의 안정성으로 금융권부터 일반 웹 개발까지 폭넓게 사용되며 형성된 커뮤니티로 인해 여러 개발 관련 자료를 구하기 쉬웠음.
      - 또한 추가 개발시에도 호환성 문제에 대해 자유롭고 싶었음.
  - Azure
    - AWS 프리티어가 만료되어 부득이하게 사용.

<br>

# 크롤러 실행시 속도 비교

<br>

- 20페이지 탐색을 기준으로 하였다.

- 소수점 아래는 내림하였다.

  - for문
    - 기본적인 반복문을 사용했을 때 20페이지 48초 정도 나왔다.
  - Multi Thread
    - max worker 6
      - 39 ~ 42초
    - max worker 12
      - 37초
    - max worker 50
      - 37초
    - max worker 100
      - 38초
    - 워커의 수와는 무관하게 항상 30초 후반대로 측정되었다.
    - for 보다는 빠르지만 극적인 차이는 아닌 것 같다.
  - Multi Process
    - max worker = 6
      - 45초
    - max worker = 12
      - 27초
    - max worker = 24
      - 22초
    - max worker = 48
      - 20초

  - 워커의 수에 따라 차이가 크다.
    => 20페이지 탐색시 12와 24의 차이가 5초인 것을 보면 워커의 수는 탐색 페이지 수와 비례해야 하는 것 같다.
    => 무한정 늘릴 수는 없으니 워커 수는 24로 제한하기로 했다.
  - 최대 설정 가능한 수는 61이다.
